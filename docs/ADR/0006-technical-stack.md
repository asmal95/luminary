# ADR-0006: Технический стек

## Статус
Принято

## Контекст
Необходимо выбрать конкретные библиотеки и подходы для реализации проекта.

## Решение

### Основные библиотеки:

1. **GitLab API**: `python-gitlab` (официальная библиотека)
   - Проверенная, стабильная
   - Хорошая документация
   - Если возникнут проблемы - можно заменить на httpx

2. **Шаблонизатор промптов**: **f-strings** для MVP
   - Простота и читаемость
   - Встроенная поддержка в Python
   - Для будущего: можно мигрировать на Jinja2 при необходимости

3. **HTTP клиент**: `requests` (синхронный)
   - Простота для MVP
   - Хорошая поддержка retry логики
   - Возможность миграции на `httpx`/`aiohttp` для асинхронности

4. **Конфигурация**: `pyyaml` для YAML конфигов
   - Стандартный формат
   - Читаемость

5. **CLI**: `click` или `argparse`
   - `click` предпочтительнее для лучшего UX

6. **Логирование**: `logging` (стандартная библиотека)
   - Уровни: DEBUG, INFO, WARNING, ERROR

7. **Управление зависимостями**: **uv** + `pyproject.toml`
   - `uv` - современный менеджер пакетов (написан на Rust, очень быстрый)
   - `pyproject.toml` - стандартный формат PEP 518/621
   - Преимущества uv:
     - Значительно быстрее pip/poetry (важно для CI/CD)
     - Заменяет pip, venv, и даже poetry
     - От создателей ruff (проверенный инструмент)
     - Отлично работает в Docker
     - Поддерживает lock-файлы для воспроизводимости
   - Альтернатива: можно использовать poetry, но uv предпочтительнее для скорости

### Подход к асинхронности:
- **Синхронный код** для MVP
- Архитектура позволяет миграцию на асинхронность:
  - Абстракции на уровне Infrastructure Layer
  - Возможность замены синхронных вызовов на async без изменения Domain Layer

## Последствия

### Положительные:
- Быстрая разработка MVP
- Простота отладки
- Минимальные зависимости
- Возможность миграции на более продвинутые решения
- uv обеспечивает быструю установку зависимостей (важно для Docker образов)
- pyproject.toml - современный стандарт Python

### Отрицательные:
- Медленнее для больших MR (но приемлемо для MVP)
- Потенциальная необходимость рефакторинга для асинхронности
